{"ast":null,"code":"import _objectSpread from \"D:/Projects/RainbowKit/connectwallet/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _slicedToArray from \"D:/Projects/RainbowKit/connectwallet/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport _objectWithoutProperties from \"D:/Projects/RainbowKit/connectwallet/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";\nvar _excluded = [\"client\", \"children\", \"persistOptions\", \"onSuccess\"];\nimport _extends from \"@babel/runtime/helpers/extends\";\nimport React from 'react';\nimport { persistQueryClient } from \"./persist.mjs\";\nimport { QueryClientProvider } from \"../reactjs/index.mjs\";\nimport { IsRestoringProvider } from \"../reactjs/isRestoring.mjs\";\nexport var PersistQueryClientProvider = function PersistQueryClientProvider(_ref) {\n  var client = _ref.client,\n    children = _ref.children,\n    persistOptions = _ref.persistOptions,\n    onSuccess = _ref.onSuccess,\n    props = _objectWithoutProperties(_ref, _excluded);\n  var _React$useState = React.useState(true),\n    _React$useState2 = _slicedToArray(_React$useState, 2),\n    isRestoring = _React$useState2[0],\n    setIsRestoring = _React$useState2[1];\n  var refs = React.useRef({\n    persistOptions: persistOptions,\n    onSuccess: onSuccess\n  });\n  React.useEffect(function () {\n    refs.current = {\n      persistOptions: persistOptions,\n      onSuccess: onSuccess\n    };\n  });\n  React.useEffect(function () {\n    var isStale = false;\n    setIsRestoring(true);\n    var _persistQueryClient = persistQueryClient(_objectSpread(_objectSpread({}, refs.current.persistOptions), {}, {\n        queryClient: client\n      })),\n      _persistQueryClient2 = _slicedToArray(_persistQueryClient, 2),\n      unsubscribe = _persistQueryClient2[0],\n      promise = _persistQueryClient2[1];\n    promise.then(function () {\n      if (!isStale) {\n        refs.current.onSuccess == null ? void 0 : refs.current.onSuccess();\n        setIsRestoring(false);\n      }\n    });\n    return function () {\n      isStale = true;\n      unsubscribe();\n    };\n  }, [client]);\n  return /*#__PURE__*/React.createElement(QueryClientProvider, _extends({\n    client: client\n  }, props), /*#__PURE__*/React.createElement(IsRestoringProvider, {\n    value: isRestoring\n  }, children));\n};","map":{"version":3,"names":["_extends","React","persistQueryClient","QueryClientProvider","IsRestoringProvider","PersistQueryClientProvider","_ref","client","children","persistOptions","onSuccess","props","_objectWithoutProperties","_excluded","_React$useState","useState","_React$useState2","_slicedToArray","isRestoring","setIsRestoring","refs","useRef","useEffect","current","isStale","_persistQueryClient","_objectSpread","queryClient","_persistQueryClient2","unsubscribe","promise","then","createElement","value"],"sources":["D:/Projects/RainbowKit/connectwallet/node_modules/react-query/lib/persistQueryClient/PersistQueryClientProvider.mjs"],"sourcesContent":["import _extends from \"@babel/runtime/helpers/extends\";\nimport React from 'react';\nimport { persistQueryClient } from \"./persist.mjs\";\nimport { QueryClientProvider } from \"../reactjs/index.mjs\";\nimport { IsRestoringProvider } from \"../reactjs/isRestoring.mjs\";\nexport const PersistQueryClientProvider = ({\n  client,\n  children,\n  persistOptions,\n  onSuccess,\n  ...props\n}) => {\n  const [isRestoring, setIsRestoring] = React.useState(true);\n  const refs = React.useRef({\n    persistOptions,\n    onSuccess\n  });\n  React.useEffect(() => {\n    refs.current = {\n      persistOptions,\n      onSuccess\n    };\n  });\n  React.useEffect(() => {\n    let isStale = false;\n    setIsRestoring(true);\n    const [unsubscribe, promise] = persistQueryClient({ ...refs.current.persistOptions,\n      queryClient: client\n    });\n    promise.then(() => {\n      if (!isStale) {\n        refs.current.onSuccess == null ? void 0 : refs.current.onSuccess();\n        setIsRestoring(false);\n      }\n    });\n    return () => {\n      isStale = true;\n      unsubscribe();\n    };\n  }, [client]);\n  return /*#__PURE__*/React.createElement(QueryClientProvider, _extends({\n    client: client\n  }, props), /*#__PURE__*/React.createElement(IsRestoringProvider, {\n    value: isRestoring\n  }, children));\n};"],"mappings":";;;;AAAA,OAAOA,QAAQ,MAAM,gCAAgC;AACrD,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,kBAAkB,QAAQ,eAAe;AAClD,SAASC,mBAAmB,QAAQ,sBAAsB;AAC1D,SAASC,mBAAmB,QAAQ,4BAA4B;AAChE,OAAO,IAAMC,0BAA0B,GAAG,SAA7BA,0BAA0BA,CAAAC,IAAA,EAMjC;EAAA,IALJC,MAAM,GAAAD,IAAA,CAANC,MAAM;IACNC,QAAQ,GAAAF,IAAA,CAARE,QAAQ;IACRC,cAAc,GAAAH,IAAA,CAAdG,cAAc;IACdC,SAAS,GAAAJ,IAAA,CAATI,SAAS;IACNC,KAAK,GAAAC,wBAAA,CAAAN,IAAA,EAAAO,SAAA;EAER,IAAAC,eAAA,GAAsCb,KAAK,CAACc,QAAQ,CAAC,IAAI,CAAC;IAAAC,gBAAA,GAAAC,cAAA,CAAAH,eAAA;IAAnDI,WAAW,GAAAF,gBAAA;IAAEG,cAAc,GAAAH,gBAAA;EAClC,IAAMI,IAAI,GAAGnB,KAAK,CAACoB,MAAM,CAAC;IACxBZ,cAAc,EAAdA,cAAc;IACdC,SAAS,EAATA;EACF,CAAC,CAAC;EACFT,KAAK,CAACqB,SAAS,CAAC,YAAM;IACpBF,IAAI,CAACG,OAAO,GAAG;MACbd,cAAc,EAAdA,cAAc;MACdC,SAAS,EAATA;IACF,CAAC;EACH,CAAC,CAAC;EACFT,KAAK,CAACqB,SAAS,CAAC,YAAM;IACpB,IAAIE,OAAO,GAAG,KAAK;IACnBL,cAAc,CAAC,IAAI,CAAC;IACpB,IAAAM,mBAAA,GAA+BvB,kBAAkB,CAAAwB,aAAA,CAAAA,aAAA,KAAMN,IAAI,CAACG,OAAO,CAACd,cAAc;QAChFkB,WAAW,EAAEpB;MAAM,GACnB;MAAAqB,oBAAA,GAAAX,cAAA,CAAAQ,mBAAA;MAFKI,WAAW,GAAAD,oBAAA;MAAEE,OAAO,GAAAF,oBAAA;IAG3BE,OAAO,CAACC,IAAI,CAAC,YAAM;MACjB,IAAI,CAACP,OAAO,EAAE;QACZJ,IAAI,CAACG,OAAO,CAACb,SAAS,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGU,IAAI,CAACG,OAAO,CAACb,SAAS,EAAE;QAClES,cAAc,CAAC,KAAK,CAAC;MACvB;IACF,CAAC,CAAC;IACF,OAAO,YAAM;MACXK,OAAO,GAAG,IAAI;MACdK,WAAW,EAAE;IACf,CAAC;EACH,CAAC,EAAE,CAACtB,MAAM,CAAC,CAAC;EACZ,OAAO,aAAaN,KAAK,CAAC+B,aAAa,CAAC7B,mBAAmB,EAAEH,QAAQ,CAAC;IACpEO,MAAM,EAAEA;EACV,CAAC,EAAEI,KAAK,CAAC,EAAE,aAAaV,KAAK,CAAC+B,aAAa,CAAC5B,mBAAmB,EAAE;IAC/D6B,KAAK,EAAEf;EACT,CAAC,EAAEV,QAAQ,CAAC,CAAC;AACf,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}