{"ast":null,"code":"import _regeneratorRuntime from \"D:/Projects/RainbowKit/connectwallet/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"D:/Projects/RainbowKit/connectwallet/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { dehydrate, hydrate } from \"../core/index.mjs\";\n\n/**\n * Restores persisted data to the QueryCache\n *  - data obtained from persister.restoreClient\n *  - data is hydrated using hydrateOptions\n * If data is expired, busted, empty, or throws, it runs persister.removeClient\n */\nexport function persistQueryClientRestore(_x) {\n  return _persistQueryClientRestore.apply(this, arguments);\n}\n/**\n * Persists data from the QueryCache\n *  - data dehydrated using dehydrateOptions\n *  - data is persisted using persister.persistClient\n */\nfunction _persistQueryClientRestore() {\n  _persistQueryClientRestore = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(_ref) {\n    var queryClient, persister, _ref$maxAge, maxAge, _ref$buster, buster, hydrateOptions, persistedClient, expired, busted;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          queryClient = _ref.queryClient, persister = _ref.persister, _ref$maxAge = _ref.maxAge, maxAge = _ref$maxAge === void 0 ? 1000 * 60 * 60 * 24 : _ref$maxAge, _ref$buster = _ref.buster, buster = _ref$buster === void 0 ? '' : _ref$buster, hydrateOptions = _ref.hydrateOptions;\n          _context.prev = 1;\n          _context.next = 4;\n          return persister.restoreClient();\n        case 4:\n          persistedClient = _context.sent;\n          if (persistedClient) {\n            if (persistedClient.timestamp) {\n              expired = Date.now() - persistedClient.timestamp > maxAge;\n              busted = persistedClient.buster !== buster;\n              if (expired || busted) {\n                persister.removeClient();\n              } else {\n                hydrate(queryClient, persistedClient.clientState, hydrateOptions);\n              }\n            } else {\n              persister.removeClient();\n            }\n          }\n          _context.next = 12;\n          break;\n        case 8:\n          _context.prev = 8;\n          _context.t0 = _context[\"catch\"](1);\n          if (process.env.NODE_ENV !== 'production') {\n            queryClient.getLogger().error(_context.t0);\n            queryClient.getLogger().warn('Encountered an error attempting to restore client cache from persisted location. As a precaution, the persisted cache will be discarded.');\n          }\n          persister.removeClient();\n        case 12:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee, null, [[1, 8]]);\n  }));\n  return _persistQueryClientRestore.apply(this, arguments);\n}\nexport function persistQueryClientSave(_x2) {\n  return _persistQueryClientSave.apply(this, arguments);\n}\n/**\n * Subscribe to QueryCache and MutationCache updates (for persisting)\n * @returns an unsubscribe function (to discontinue monitoring)\n */\nfunction _persistQueryClientSave() {\n  _persistQueryClientSave = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(_ref2) {\n    var queryClient, persister, _ref2$buster, buster, dehydrateOptions, persistClient;\n    return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n      while (1) switch (_context2.prev = _context2.next) {\n        case 0:\n          queryClient = _ref2.queryClient, persister = _ref2.persister, _ref2$buster = _ref2.buster, buster = _ref2$buster === void 0 ? '' : _ref2$buster, dehydrateOptions = _ref2.dehydrateOptions;\n          persistClient = {\n            buster: buster,\n            timestamp: Date.now(),\n            clientState: dehydrate(queryClient, dehydrateOptions)\n          };\n          _context2.next = 4;\n          return persister.persistClient(persistClient);\n        case 4:\n        case \"end\":\n          return _context2.stop();\n      }\n    }, _callee2);\n  }));\n  return _persistQueryClientSave.apply(this, arguments);\n}\nexport function persistQueryClientSubscribe(props) {\n  var unsubscribeQueryCache = props.queryClient.getQueryCache().subscribe(function () {\n    persistQueryClientSave(props);\n  });\n  var unusbscribeMutationCache = props.queryClient.getMutationCache().subscribe(function () {\n    persistQueryClientSave(props);\n  });\n  return function () {\n    unsubscribeQueryCache();\n    unusbscribeMutationCache();\n  };\n}\n/**\n * Restores persisted data to QueryCache and persists further changes.\n */\n\nexport function persistQueryClient(props) {\n  var hasUnsubscribed = false;\n  var persistQueryClientUnsubscribe;\n  var unsubscribe = function unsubscribe() {\n    hasUnsubscribed = true;\n    persistQueryClientUnsubscribe == null ? void 0 : persistQueryClientUnsubscribe();\n  }; // Attempt restore\n\n  var restorePromise = persistQueryClientRestore(props).then(function () {\n    if (!hasUnsubscribed) {\n      // Subscribe to changes in the query cache to trigger the save\n      persistQueryClientUnsubscribe = persistQueryClientSubscribe(props);\n    }\n  });\n  return [unsubscribe, restorePromise];\n}","map":{"version":3,"names":["dehydrate","hydrate","persistQueryClientRestore","_x","_persistQueryClientRestore","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_ref","queryClient","persister","_ref$maxAge","maxAge","_ref$buster","buster","hydrateOptions","persistedClient","expired","busted","wrap","_callee$","_context","prev","next","restoreClient","sent","timestamp","Date","now","removeClient","clientState","t0","process","env","NODE_ENV","getLogger","error","warn","stop","persistQueryClientSave","_x2","_persistQueryClientSave","_callee2","_ref2","_ref2$buster","dehydrateOptions","persistClient","_callee2$","_context2","persistQueryClientSubscribe","props","unsubscribeQueryCache","getQueryCache","subscribe","unusbscribeMutationCache","getMutationCache","persistQueryClient","hasUnsubscribed","persistQueryClientUnsubscribe","unsubscribe","restorePromise","then"],"sources":["D:/Projects/RainbowKit/connectwallet/node_modules/react-query/lib/persistQueryClient/persist.mjs"],"sourcesContent":["import { dehydrate, hydrate } from \"../core/index.mjs\";\n\n/**\n * Restores persisted data to the QueryCache\n *  - data obtained from persister.restoreClient\n *  - data is hydrated using hydrateOptions\n * If data is expired, busted, empty, or throws, it runs persister.removeClient\n */\nexport async function persistQueryClientRestore({\n  queryClient,\n  persister,\n  maxAge = 1000 * 60 * 60 * 24,\n  buster = '',\n  hydrateOptions\n}) {\n  try {\n    const persistedClient = await persister.restoreClient();\n\n    if (persistedClient) {\n      if (persistedClient.timestamp) {\n        const expired = Date.now() - persistedClient.timestamp > maxAge;\n        const busted = persistedClient.buster !== buster;\n\n        if (expired || busted) {\n          persister.removeClient();\n        } else {\n          hydrate(queryClient, persistedClient.clientState, hydrateOptions);\n        }\n      } else {\n        persister.removeClient();\n      }\n    }\n  } catch (err) {\n    if (process.env.NODE_ENV !== 'production') {\n      queryClient.getLogger().error(err);\n      queryClient.getLogger().warn('Encountered an error attempting to restore client cache from persisted location. As a precaution, the persisted cache will be discarded.');\n    }\n\n    persister.removeClient();\n  }\n}\n/**\n * Persists data from the QueryCache\n *  - data dehydrated using dehydrateOptions\n *  - data is persisted using persister.persistClient\n */\n\nexport async function persistQueryClientSave({\n  queryClient,\n  persister,\n  buster = '',\n  dehydrateOptions\n}) {\n  const persistClient = {\n    buster,\n    timestamp: Date.now(),\n    clientState: dehydrate(queryClient, dehydrateOptions)\n  };\n  await persister.persistClient(persistClient);\n}\n/**\n * Subscribe to QueryCache and MutationCache updates (for persisting)\n * @returns an unsubscribe function (to discontinue monitoring)\n */\n\nexport function persistQueryClientSubscribe(props) {\n  const unsubscribeQueryCache = props.queryClient.getQueryCache().subscribe(() => {\n    persistQueryClientSave(props);\n  });\n  const unusbscribeMutationCache = props.queryClient.getMutationCache().subscribe(() => {\n    persistQueryClientSave(props);\n  });\n  return () => {\n    unsubscribeQueryCache();\n    unusbscribeMutationCache();\n  };\n}\n/**\n * Restores persisted data to QueryCache and persists further changes.\n */\n\nexport function persistQueryClient(props) {\n  let hasUnsubscribed = false;\n  let persistQueryClientUnsubscribe;\n\n  const unsubscribe = () => {\n    hasUnsubscribed = true;\n    persistQueryClientUnsubscribe == null ? void 0 : persistQueryClientUnsubscribe();\n  }; // Attempt restore\n\n\n  const restorePromise = persistQueryClientRestore(props).then(() => {\n    if (!hasUnsubscribed) {\n      // Subscribe to changes in the query cache to trigger the save\n      persistQueryClientUnsubscribe = persistQueryClientSubscribe(props);\n    }\n  });\n  return [unsubscribe, restorePromise];\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}