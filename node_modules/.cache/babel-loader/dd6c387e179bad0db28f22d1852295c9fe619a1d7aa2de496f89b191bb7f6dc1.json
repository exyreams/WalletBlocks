{"ast":null,"code":"var JSONStringify = function JSONStringify(data) {\n  return JSON.stringify(data, function (_, value) {\n    return typeof value === \"bigint\" ? value.toString() + \"n\" : value;\n  });\n};\nvar JSONParse = function JSONParse(json) {\n  var numbersBiggerThanMaxInt = /([\\[:])?(\\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\\}\\]])/g;\n  var serializedData = json.replace(numbersBiggerThanMaxInt, \"$1\\\"$2n\\\"$3\");\n  return JSON.parse(serializedData, function (_, value) {\n    var isCustomFormatBigInt = typeof value === \"string\" && value.match(/^\\d+n$/);\n    if (isCustomFormatBigInt) return BigInt(value.substring(0, value.length - 1));\n    return value;\n  });\n};\nexport function safeJsonParse(value) {\n  if (typeof value !== \"string\") {\n    throw new Error(\"Cannot safe json parse value of type \".concat(typeof value));\n  }\n  try {\n    return JSONParse(value);\n  } catch (_a) {\n    return value;\n  }\n}\nexport function safeJsonStringify(value) {\n  return typeof value === \"string\" ? value : JSONStringify(value) || \"\";\n}","map":{"version":3,"names":["JSONStringify","data","JSON","stringify","_","value","toString","JSONParse","json","numbersBiggerThanMaxInt","serializedData","replace","parse","isCustomFormatBigInt","match","BigInt","substring","length","safeJsonParse","Error","concat","_a","safeJsonStringify"],"sources":["../../src/index.ts"],"sourcesContent":[null],"mappings":"AAQA,IAAMA,aAAa,GAAG,SAAhBA,aAAaA,CAAGC,IAAI;EAAA,OACxBC,IAAI,CAACC,SAAS,CAACF,IAAI,EAAE,UAACG,CAAC,EAAEC,KAAK;IAAA,OAC5B,OAAOA,KAAK,KAAK,QAAQ,GAAGA,KAAK,CAACC,QAAQ,EAAE,GAAG,GAAG,GAAGD,KAAK;EAAA,EAC3D;AAAA;AASH,IAAME,SAAS,GAAG,SAAZA,SAASA,CAAGC,IAAI,EAAG;EAMvB,IAAMC,uBAAuB,GAAG,oQAAoQ;EACpS,IAAMC,cAAc,GAAGF,IAAI,CAACG,OAAO,CAACF,uBAAuB,EAAE,aAAa,CAAC;EAE3E,OAAOP,IAAI,CAACU,KAAK,CAACF,cAAc,EAAE,UAACN,CAAC,EAAEC,KAAK,EAAI;IAC7C,IAAMQ,oBAAoB,GACxB,OAAOR,KAAK,KAAK,QAAQ,IAAIA,KAAK,CAACS,KAAK,CAAC,QAAQ,CAAC;IAEpD,IAAID,oBAAoB,EACtB,OAAOE,MAAM,CAACV,KAAK,CAACW,SAAS,CAAC,CAAC,EAAEX,KAAK,CAACY,MAAM,GAAG,CAAC,CAAC,CAAC;IAErD,OAAOZ,KAAK;EACd,CAAC,CAAC;AACJ,CAAC;AAED,OAAM,SAAUa,aAAaA,CAAUb,KAAa;EAClD,IAAI,OAAOA,KAAK,KAAK,QAAQ,EAAE;IAC7B,MAAM,IAAIc,KAAK,yCAAAC,MAAA,CAAyC,OAAOf,KAAK,EAAG;;EAEzE,IAAI;IACF,OAAOE,SAAS,CAACF,KAAK,CAAC;GACxB,CAAC,OAAAgB,EAAA,EAAM;IACN,OAAOhB,KAAK;;AAEhB;AAEA,OAAM,SAAUiB,iBAAiBA,CAACjB,KAAU;EAC1C,OAAO,OAAOA,KAAK,KAAK,QAAQ,GAAGA,KAAK,GAAGL,aAAa,CAACK,KAAK,CAAC,IAAI,EAAE;AACvE"},"metadata":{},"sourceType":"module","externalDependencies":[]}