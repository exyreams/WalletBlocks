{"ast":null,"code":"import _regeneratorRuntime from \"D:/Projects/RainbowKit/connectwallet/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"D:/Projects/RainbowKit/connectwallet/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _classCallCheck from \"D:/Projects/RainbowKit/connectwallet/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"D:/Projects/RainbowKit/connectwallet/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _inherits from \"D:/Projects/RainbowKit/connectwallet/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"D:/Projects/RainbowKit/connectwallet/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\nimport EventEmitter from \"eventemitter3\";\nimport WalletConnect from \"@walletconnect/client\";\nimport QRCodeModal from \"@walletconnect/qrcode-modal\";\nimport { IJsonRpcConnection } from \"@walletconnect/jsonrpc-types\";\nimport { formatJsonRpcError } from \"@walletconnect/jsonrpc-utils\";\nexport var SignerConnection = /*#__PURE__*/function (_IJsonRpcConnection) {\n  _inherits(SignerConnection, _IJsonRpcConnection);\n  var _super = _createSuper(SignerConnection);\n  function SignerConnection(opts) {\n    var _this;\n    _classCallCheck(this, SignerConnection);\n    _this = _super.call(this);\n    _this.events = new EventEmitter();\n    _this.accounts = [];\n    _this.chainId = 1;\n    _this.pending = false;\n    _this.bridge = \"https://bridge.walletconnect.org\";\n    _this.qrcode = true;\n    _this.qrcodeModalOptions = undefined;\n    _this.opts = opts;\n    _this.chainId = (opts === null || opts === void 0 ? void 0 : opts.chainId) || _this.chainId;\n    _this.wc = _this.register(opts);\n    return _this;\n  }\n  _createClass(SignerConnection, [{\n    key: \"connected\",\n    get: function get() {\n      return typeof this.wc !== \"undefined\" && this.wc.connected;\n    }\n  }, {\n    key: \"connecting\",\n    get: function get() {\n      return this.pending;\n    }\n  }, {\n    key: \"connector\",\n    get: function get() {\n      this.wc = this.register(this.opts);\n      return this.wc;\n    }\n  }, {\n    key: \"on\",\n    value: function on(event, listener) {\n      this.events.on(event, listener);\n    }\n  }, {\n    key: \"once\",\n    value: function once(event, listener) {\n      this.events.once(event, listener);\n    }\n  }, {\n    key: \"off\",\n    value: function off(event, listener) {\n      this.events.off(event, listener);\n    }\n  }, {\n    key: \"removeListener\",\n    value: function removeListener(event, listener) {\n      this.events.removeListener(event, listener);\n    }\n  }, {\n    key: \"open\",\n    value: function () {\n      var _open = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(chainId) {\n        var _this2 = this;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              if (!this.connected) {\n                _context.next = 3;\n                break;\n              }\n              this.onOpen();\n              return _context.abrupt(\"return\");\n            case 3:\n              return _context.abrupt(\"return\", new Promise(function (resolve, reject) {\n                _this2.on(\"error\", function (err) {\n                  reject(err);\n                });\n                _this2.on(\"open\", function () {\n                  resolve();\n                });\n                _this2.create(chainId);\n              }));\n            case 4:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee, this);\n      }));\n      function open(_x) {\n        return _open.apply(this, arguments);\n      }\n      return open;\n    }()\n  }, {\n    key: \"close\",\n    value: function () {\n      var _close = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) switch (_context2.prev = _context2.next) {\n            case 0:\n              if (!(typeof this.wc === \"undefined\")) {\n                _context2.next = 2;\n                break;\n              }\n              return _context2.abrupt(\"return\");\n            case 2:\n              if (this.wc.connected) {\n                this.wc.killSession();\n              }\n              this.onClose();\n            case 4:\n            case \"end\":\n              return _context2.stop();\n          }\n        }, _callee2, this);\n      }));\n      function close() {\n        return _close.apply(this, arguments);\n      }\n      return close;\n    }()\n  }, {\n    key: \"send\",\n    value: function () {\n      var _send = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(payload) {\n        var _this3 = this;\n        return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n          while (1) switch (_context3.prev = _context3.next) {\n            case 0:\n              this.wc = this.register(this.opts);\n              if (this.connected) {\n                _context3.next = 4;\n                break;\n              }\n              _context3.next = 4;\n              return this.open();\n            case 4:\n              this.sendPayload(payload).then(function (res) {\n                return _this3.events.emit(\"payload\", res);\n              }).catch(function (e) {\n                return _this3.events.emit(\"payload\", formatJsonRpcError(payload.id, e.message));\n              });\n            case 5:\n            case \"end\":\n              return _context3.stop();\n          }\n        }, _callee3, this);\n      }));\n      function send(_x2) {\n        return _send.apply(this, arguments);\n      }\n      return send;\n    }()\n  }, {\n    key: \"register\",\n    value: function register(opts) {\n      if (this.wc) return this.wc;\n      this.opts = opts || this.opts;\n      this.bridge = (opts === null || opts === void 0 ? void 0 : opts.connector) ? opts.connector.bridge : (opts === null || opts === void 0 ? void 0 : opts.bridge) || \"https://bridge.walletconnect.org\";\n      this.qrcode = typeof (opts === null || opts === void 0 ? void 0 : opts.qrcode) === \"undefined\" || opts.qrcode !== false;\n      this.chainId = typeof (opts === null || opts === void 0 ? void 0 : opts.chainId) !== \"undefined\" ? opts.chainId : this.chainId;\n      this.qrcodeModalOptions = opts === null || opts === void 0 ? void 0 : opts.qrcodeModalOptions;\n      var connectorOpts = {\n        bridge: this.bridge,\n        qrcodeModal: this.qrcode ? QRCodeModal : undefined,\n        qrcodeModalOptions: this.qrcodeModalOptions,\n        storageId: opts === null || opts === void 0 ? void 0 : opts.storageId,\n        signingMethods: opts === null || opts === void 0 ? void 0 : opts.signingMethods,\n        clientMeta: opts === null || opts === void 0 ? void 0 : opts.clientMeta\n      };\n      this.wc = typeof (opts === null || opts === void 0 ? void 0 : opts.connector) !== \"undefined\" ? opts.connector : new WalletConnect(connectorOpts);\n      if (typeof this.wc === \"undefined\") {\n        throw new Error(\"Failed to register WalletConnect connector\");\n      }\n      if (this.wc.accounts.length) {\n        this.accounts = this.wc.accounts;\n      }\n      if (this.wc.chainId) {\n        this.chainId = this.wc.chainId;\n      }\n      this.registerConnectorEvents();\n      return this.wc;\n    }\n  }, {\n    key: \"onOpen\",\n    value: function onOpen(wc) {\n      this.pending = false;\n      if (wc) {\n        this.wc = wc;\n      }\n      this.events.emit(\"open\");\n    }\n  }, {\n    key: \"onClose\",\n    value: function onClose() {\n      this.pending = false;\n      if (this.wc) {\n        this.wc = undefined;\n      }\n      this.events.emit(\"close\");\n    }\n  }, {\n    key: \"onError\",\n    value: function onError(payload) {\n      var message = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"Failed or Rejected Request\";\n      var code = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : -32000;\n      var data = arguments.length > 3 ? arguments[3] : undefined;\n      var errorPayload = {\n        id: payload.id,\n        jsonrpc: payload.jsonrpc,\n        error: {\n          code: code,\n          message: message\n        }\n      };\n      if (typeof data !== \"undefined\") {\n        errorPayload.error.data = data;\n      }\n      this.events.emit(\"payload\", errorPayload);\n      return errorPayload;\n    }\n  }, {\n    key: \"create\",\n    value: function create(chainId) {\n      var _this4 = this;\n      this.wc = this.register(this.opts);\n      this.chainId = chainId || this.chainId;\n      if (this.connected || this.pending) return;\n      this.pending = true;\n      this.registerConnectorEvents();\n      this.wc.createSession({\n        chainId: this.chainId\n      }).then(function () {\n        return _this4.events.emit(\"created\");\n      }).catch(function (e) {\n        return _this4.events.emit(\"error\", e);\n      });\n    }\n  }, {\n    key: \"registerConnectorEvents\",\n    value: function registerConnectorEvents() {\n      var _this5 = this;\n      this.wc = this.register(this.opts);\n      this.wc.on(\"connect\", function (err) {\n        var _a, _b;\n        if (err) {\n          _this5.events.emit(\"error\", err);\n          return;\n        }\n        _this5.accounts = ((_a = _this5.wc) === null || _a === void 0 ? void 0 : _a.accounts) || [];\n        _this5.chainId = ((_b = _this5.wc) === null || _b === void 0 ? void 0 : _b.chainId) || _this5.chainId;\n        _this5.onOpen();\n      });\n      this.wc.on(\"disconnect\", function (err) {\n        if (err) {\n          _this5.events.emit(\"error\", err);\n          return;\n        }\n        _this5.onClose();\n      });\n      this.wc.on(\"modal_closed\", function () {\n        _this5.events.emit(\"error\", new Error(\"User closed modal\"));\n      });\n      this.wc.on(\"session_update\", function (error, payload) {\n        var _payload$params$ = payload.params[0],\n          accounts = _payload$params$.accounts,\n          chainId = _payload$params$.chainId;\n        if (!_this5.accounts || accounts && _this5.accounts !== accounts) {\n          _this5.accounts = accounts;\n          _this5.events.emit(\"accountsChanged\", accounts);\n        }\n        if (!_this5.chainId || chainId && _this5.chainId !== chainId) {\n          _this5.chainId = chainId;\n          _this5.events.emit(\"chainChanged\", chainId);\n        }\n      });\n    }\n  }, {\n    key: \"sendPayload\",\n    value: function () {\n      var _sendPayload = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4(payload) {\n        var response;\n        return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n          while (1) switch (_context4.prev = _context4.next) {\n            case 0:\n              this.wc = this.register(this.opts);\n              _context4.prev = 1;\n              _context4.next = 4;\n              return this.wc.unsafeSend(payload);\n            case 4:\n              response = _context4.sent;\n              return _context4.abrupt(\"return\", this.sanitizeResponse(response));\n            case 8:\n              _context4.prev = 8;\n              _context4.t0 = _context4[\"catch\"](1);\n              return _context4.abrupt(\"return\", this.onError(payload, _context4.t0.message));\n            case 11:\n            case \"end\":\n              return _context4.stop();\n          }\n        }, _callee4, this, [[1, 8]]);\n      }));\n      function sendPayload(_x3) {\n        return _sendPayload.apply(this, arguments);\n      }\n      return sendPayload;\n    }()\n  }, {\n    key: \"sanitizeResponse\",\n    value: function sanitizeResponse(response) {\n      return typeof response.error !== \"undefined\" && typeof response.error.code === \"undefined\" ? formatJsonRpcError(response.id, response.error.message, response.error.data) : response;\n    }\n  }]);\n  return SignerConnection;\n}(IJsonRpcConnection);\nexport default SignerConnection;","map":{"version":3,"names":["EventEmitter","WalletConnect","QRCodeModal","IJsonRpcConnection","formatJsonRpcError","SignerConnection","_IJsonRpcConnection","_inherits","_super","_createSuper","opts","_this","_classCallCheck","call","events","accounts","chainId","pending","bridge","qrcode","qrcodeModalOptions","undefined","wc","register","_createClass","key","get","connected","value","on","event","listener","once","off","removeListener","_open","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_this2","wrap","_callee$","_context","prev","next","onOpen","abrupt","Promise","resolve","reject","err","create","stop","open","_x","apply","arguments","_close","_callee2","_callee2$","_context2","killSession","onClose","close","_send","_callee3","payload","_this3","_callee3$","_context3","sendPayload","then","res","emit","catch","e","id","message","send","_x2","connector","connectorOpts","qrcodeModal","storageId","signingMethods","clientMeta","Error","length","registerConnectorEvents","onError","code","data","errorPayload","jsonrpc","error","_this4","createSession","_this5","_a","_b","_payload$params$","params","_sendPayload","_callee4","response","_callee4$","_context4","unsafeSend","sent","sanitizeResponse","t0","_x3"],"sources":["../../src/index.ts"],"sourcesContent":[null],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}