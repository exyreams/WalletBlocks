{"ast":null,"code":"\"use strict\";\n\n// Copyright (c) 2018-2022 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nvar _classCallCheck = require(\"D:/Projects/RainbowKit/connectwallet/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/classCallCheck.js\").default;\nvar _createClass = require(\"D:/Projects/RainbowKit/connectwallet/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/createClass.js\").default;\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.LinkFlow = void 0;\nvar preact_1 = require(\"preact\");\nvar rxjs_1 = require(\"rxjs\");\nvar ConnectDialog_1 = require(\"../ConnectDialog/ConnectDialog\");\nvar LinkFlow = /*#__PURE__*/function () {\n  function LinkFlow(options) {\n    _classCallCheck(this, LinkFlow);\n    this.extensionUI$ = new rxjs_1.BehaviorSubject({});\n    this.subscriptions = new rxjs_1.Subscription();\n    this.isConnected = false;\n    this.chainId = 1;\n    this.isOpen = false;\n    this.onCancel = null;\n    this.root = null;\n    // if true, hide QR code in LinkFlow (which happens if no jsonRpcUrl is provided)\n    this.connectDisabled = false;\n    this.darkMode = options.darkMode;\n    this.version = options.version;\n    this.sessionId = options.sessionId;\n    this.sessionSecret = options.sessionSecret;\n    this.linkAPIUrl = options.linkAPIUrl;\n    this.isParentConnection = options.isParentConnection;\n    this.connected$ = options.connected$;\n    this.chainId$ = options.chainId$;\n  }\n  _createClass(LinkFlow, [{\n    key: \"attach\",\n    value: function attach(el) {\n      var _this = this;\n      this.root = document.createElement(\"div\");\n      this.root.className = \"-cbwsdk-link-flow-root\";\n      el.appendChild(this.root);\n      this.render();\n      this.subscriptions.add(this.connected$.subscribe(function (v) {\n        if (_this.isConnected !== v) {\n          _this.isConnected = v;\n          _this.render();\n        }\n      }));\n      this.subscriptions.add(this.chainId$.subscribe(function (chainId) {\n        if (_this.chainId !== chainId) {\n          _this.chainId = chainId;\n          _this.render();\n        }\n      }));\n    }\n  }, {\n    key: \"detach\",\n    value: function detach() {\n      var _a;\n      if (!this.root) {\n        return;\n      }\n      this.subscriptions.unsubscribe();\n      (0, preact_1.render)(null, this.root);\n      (_a = this.root.parentElement) === null || _a === void 0 ? void 0 : _a.removeChild(this.root);\n    }\n  }, {\n    key: \"setConnectDisabled\",\n    value: function setConnectDisabled(connectDisabled) {\n      this.connectDisabled = connectDisabled;\n    }\n  }, {\n    key: \"open\",\n    value: function open(options) {\n      this.isOpen = true;\n      this.onCancel = options.onCancel;\n      this.render();\n    }\n  }, {\n    key: \"close\",\n    value: function close() {\n      this.isOpen = false;\n      this.onCancel = null;\n      this.render();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n      if (!this.root) {\n        return;\n      }\n      var subscription = this.extensionUI$.subscribe(function () {\n        if (!_this2.root) {\n          return;\n        }\n        (0, preact_1.render)((0, preact_1.h)(ConnectDialog_1.ConnectDialog, {\n          darkMode: _this2.darkMode,\n          version: _this2.version,\n          sessionId: _this2.sessionId,\n          sessionSecret: _this2.sessionSecret,\n          linkAPIUrl: _this2.linkAPIUrl,\n          isOpen: _this2.isOpen,\n          isConnected: _this2.isConnected,\n          isParentConnection: _this2.isParentConnection,\n          chainId: _this2.chainId,\n          onCancel: _this2.onCancel,\n          connectDisabled: _this2.connectDisabled\n        }), _this2.root);\n      });\n      this.subscriptions.add(subscription);\n    }\n  }]);\n  return LinkFlow;\n}();\nexports.LinkFlow = LinkFlow;","map":{"version":3,"names":["_classCallCheck","require","default","_createClass","Object","defineProperty","exports","value","LinkFlow","preact_1","rxjs_1","ConnectDialog_1","options","extensionUI$","BehaviorSubject","subscriptions","Subscription","isConnected","chainId","isOpen","onCancel","root","connectDisabled","darkMode","version","sessionId","sessionSecret","linkAPIUrl","isParentConnection","connected$","chainId$","key","attach","el","_this","document","createElement","className","appendChild","render","add","subscribe","v","detach","_a","unsubscribe","parentElement","removeChild","setConnectDisabled","open","close","_this2","subscription","h","ConnectDialog"],"sources":["D:/Projects/RainbowKit/connectwallet/node_modules/@coinbase/wallet-sdk/dist/components/LinkFlow/LinkFlow.js"],"sourcesContent":["\"use strict\";\n// Copyright (c) 2018-2022 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.LinkFlow = void 0;\nconst preact_1 = require(\"preact\");\nconst rxjs_1 = require(\"rxjs\");\nconst ConnectDialog_1 = require(\"../ConnectDialog/ConnectDialog\");\nclass LinkFlow {\n    constructor(options) {\n        this.extensionUI$ = new rxjs_1.BehaviorSubject({});\n        this.subscriptions = new rxjs_1.Subscription();\n        this.isConnected = false;\n        this.chainId = 1;\n        this.isOpen = false;\n        this.onCancel = null;\n        this.root = null;\n        // if true, hide QR code in LinkFlow (which happens if no jsonRpcUrl is provided)\n        this.connectDisabled = false;\n        this.darkMode = options.darkMode;\n        this.version = options.version;\n        this.sessionId = options.sessionId;\n        this.sessionSecret = options.sessionSecret;\n        this.linkAPIUrl = options.linkAPIUrl;\n        this.isParentConnection = options.isParentConnection;\n        this.connected$ = options.connected$;\n        this.chainId$ = options.chainId$;\n    }\n    attach(el) {\n        this.root = document.createElement(\"div\");\n        this.root.className = \"-cbwsdk-link-flow-root\";\n        el.appendChild(this.root);\n        this.render();\n        this.subscriptions.add(this.connected$.subscribe(v => {\n            if (this.isConnected !== v) {\n                this.isConnected = v;\n                this.render();\n            }\n        }));\n        this.subscriptions.add(this.chainId$.subscribe(chainId => {\n            if (this.chainId !== chainId) {\n                this.chainId = chainId;\n                this.render();\n            }\n        }));\n    }\n    detach() {\n        var _a;\n        if (!this.root) {\n            return;\n        }\n        this.subscriptions.unsubscribe();\n        (0, preact_1.render)(null, this.root);\n        (_a = this.root.parentElement) === null || _a === void 0 ? void 0 : _a.removeChild(this.root);\n    }\n    setConnectDisabled(connectDisabled) {\n        this.connectDisabled = connectDisabled;\n    }\n    open(options) {\n        this.isOpen = true;\n        this.onCancel = options.onCancel;\n        this.render();\n    }\n    close() {\n        this.isOpen = false;\n        this.onCancel = null;\n        this.render();\n    }\n    render() {\n        if (!this.root) {\n            return;\n        }\n        const subscription = this.extensionUI$.subscribe(() => {\n            if (!this.root) {\n                return;\n            }\n            (0, preact_1.render)((0, preact_1.h)(ConnectDialog_1.ConnectDialog, { darkMode: this.darkMode, version: this.version, sessionId: this.sessionId, sessionSecret: this.sessionSecret, linkAPIUrl: this.linkAPIUrl, isOpen: this.isOpen, isConnected: this.isConnected, isParentConnection: this.isParentConnection, chainId: this.chainId, onCancel: this.onCancel, connectDisabled: this.connectDisabled }), this.root);\n        });\n        this.subscriptions.add(subscription);\n    }\n}\nexports.LinkFlow = LinkFlow;\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}